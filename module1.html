<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 1: The Foundation</title>
    <style>
        body { font-family: system-ui, -apple-system, sans-serif; line-height: 1.6; max-width: 800px; margin: 0 auto; padding: 20px; color: #333; }
        header { border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 20px; }
        nav { background: #f4f4f4; padding: 10px; border-radius: 5px; margin-bottom: 20px; }
        nav a { margin-right: 15px; text-decoration: none; color: #0066cc; font-weight: bold; }
        nav a:hover { text-decoration: underline; }
        .task { background: #e2e3e5; border-left: 5px solid #383d41; padding: 15px; margin: 20px 0; }
        .bug-hunt { background: #f8d7da; border-left: 5px solid #721c24; padding: 15px; margin: 20px 0; }
        code { background: #f4f4f4; padding: 2px 5px; border-radius: 3px; font-family: monospace; }
        footer { margin-top: 50px; border-top: 1px solid #ccc; padding-top: 20px; font-size: 0.9em; color: #666; text-align: center; }
    </style>
</head>
<body>
    <header>
        <h1>Module 1: The Foundation</h1>
        <p>Setup, JSX, Components, and TypeScript Props.</p>
    </header>

    <nav>
        <a href="index.html">Home</a>
        <a href="module0.html">0. JS Prep</a>
        <a href="module1.html">1. Fundamentals</a>
        <a href="module2.html">2. Hooks & Lifecycle</a>
        <a href="module3.html">3. Routing & API</a>
        <a href="module4.html">4. State & Forms</a>
        <a href="module5.html">5. Advanced Patterns</a>
        <a href="module6.html">6. Global State</a>
        <a href="module7.html">7. Testing</a>
        <a href="module8.html">8. Pro Workflow</a>
        <a href="module9.html">9. Perf & Security</a>
        <a href="capstone.html">Capstone</a>
    </nav>

    <main>
        <h2>1. Deep Dive: The React Mental Model</h2>
        
        <h3>1.1 Components are just Functions</h3>
        <p>Forget "classes" or "instances" for a moment. A React component is simply a JavaScript function. It takes an input (<code>props</code>) and returns an output (<code>JSX</code>). If you call the function with the same props, you should get the exact same UI. This is called <strong>idempotency</strong>.</p>
        <pre><code>// Input: { name: "Alice" }
// Output: &lt;h1&gt;Hello, Alice&lt;/h1&gt;
function Welcome(props) {
  return &lt;h1&gt;Hello, {props.name}&lt;/h1&gt;;
}</code></pre>

        <h3>1.2 JSX is not HTML</h3>
        <p>Browsers do not understand JSX. Build tools (Vite/Babel) compile it into standard JavaScript calls.
        <br><code>&lt;div className="box"&gt;Hi&lt;/div&gt;</code> becomes <code>React.createElement('div', { className: 'box' }, 'Hi')</code>.</p>
        <p><strong>Why this matters:</strong> You can't use HTML keywords like <code>class</code> (reserved in JS) or <code>for</code>. You must use <code>className</code> and <code>htmlFor</code>. You can't return multiple sibling elements without a parent because a function cannot return two values at once.</p>

        <h3>1.3 The One-Way Data Flow</h3>
        <p>Data flows <strong>down</strong>. Parents pass data to children via props. Children <em>cannot</em> modify props. If a child needs to change something, it must ask the parent to do it (via a callback function). This strict hierarchy makes debugging predictable.</p>

        <h3>1.4 TypeScript & React</h3>
        <p>We use TypeScript to enforce the "contract" between components. If a component expects a <code>userId</code>, TS ensures you don't forget it.</p>
        <pre><code>interface UserCardProps {
  name: string;
  age?: number; // Optional
  role: 'admin' | 'user'; // Union type (Specific strings only)
}</code></pre>

        <h3>1.5 Industry Standard: The Component Interface</h3>
        <p>In professional codebases, components are treated as <strong>APIs</strong>. They must be robust and predictable. A "Senior" component definition often looks like this:</p>
        <pre><code>// Real-world Button Interface
interface ButtonProps extends React.ButtonHTMLAttributes&lt;HTMLButtonElement&gt; {
  variant?: 'primary' | 'secondary' | 'danger';
  size?: 'sm' | 'md' | 'lg';
  isLoading?: boolean;
  leftIcon?: React.ReactNode;
}
// Note: It extends native HTML attributes so you don't have to manually type 'onClick', 'disabled', etc.</code></pre>

        <details>
            <summary><strong>üìö Official Documentation References</strong></summary>
            <ul>
                <li><a href="https://react.dev/learn/describing-the-ui" target="_blank">Describing the UI</a> (Components, JSX, Props)</li>
                <li><a href="https://react.dev/learn/conditional-rendering" target="_blank">Conditional Rendering</a></li>
                <li><a href="https://react.dev/learn/rendering-lists" target="_blank">Rendering Lists</a></li>
            </ul>
        </details>

        <h2>2. The Setup Challenge</h2>
        <div class="task">
            <h3>Task: Initialize the Environment</h3>
            <p>Do not use a template you found online. Use the CLI.</p>
            <ol>
                <li>Open your terminal.</li>
                <li>Run <code>npm create vite@latest my-app -- --template react-ts</code>.</li>
                <li>Navigate into the folder, install dependencies, and start the server.</li>
                <li><strong>Cleanup:</strong> Delete <code>App.css</code>, delete the contents of <code>App.tsx</code> (keep the component shell), and delete the logo files. Start blank.</li>
            </ol>
        </div>

        <h2>3. The Build Challenge: "User Card"</h2>
        <div class="task">
            <h3>Level 1: The Basics</h3>
            <p>Create a component named <code>UserCard</code>.</p>
            <ul>
                <li>It must accept the following props (define a TypeScript interface):
                    <ul>
                        <li><code>name</code> (string)</li>
                        <li><code>role</code> (string, optional - default to "Guest")</li>
                        <li><code>isActive</code> (boolean)</li>
                        <li><code>skills</code> (array of strings)</li>
                    </ul>
                </li>
                <li><strong>Logic:</strong>
                    <ul>
                        <li>If <code>isActive</code> is true, show a green dot (CSS). If false, red.</li>
                        <li>Render the list of <code>skills</code> using <code>.map()</code>.</li>
                        <li>If the user has no skills, display "No skills listed".</li>
                    </ul>
                </li>
            </ul>

            <h3>Level 2: Senior Constraints (Strict Mode)</h3>
            <ul>
                <li><strong>Destructuring:</strong> You must destructure props in the function signature, not inside the body.</li>
                <li><strong>Strict Typing:</strong> Do not use <code>any</code>. If <code>skills</code> is an array of objects, define that object type.</li>
                <li><strong>Composition:</strong> Instead of hardcoding the "Green Dot", create a tiny sub-component <code>&lt;StatusIndicator isActive={true} /&gt;</code> and use it inside the card.</li>
            </ul>

            <h3>Level 3: Nice to Haves</h3>
            <ul>
                <li><strong>Loading State:</strong> Add an <code>isLoading</code> prop. If true, hide the content and show "Loading user data...".</li>
                <li><strong>Event Handling:</strong> Add an <code>onRoleClick</code> callback prop. When the role text is clicked, fire this function.</li>
            </ul>
        </div>

        <h2>4. The Bug Hunt</h2>
        <div class="bug-hunt">
            <h3>üêõ Scenario: The Missing Key</h3>
            <p><strong>The Setup:</strong> Create a list of items in your state (or just a variable) with duplicate names, e.g., <code>["Apple", "Banana", "Apple"]</code>.</p>
            <p><strong>The Bug:</strong> Render this list using <code>map</code> and use the <strong>index</strong> as the key (e.g., <code>key={index}</code>).</p>
            <p><strong>The Task:</strong></p>
            <ol>
                <li>Research why using <code>index</code> as a key is considered an anti-pattern in React (search "React keys index anti-pattern").</li>
                <li>Refactor your data to have unique IDs and use those IDs as keys.</li>
            </ol>
        </div>

        <h2>5. Test on your own</h2>
        <div class="task">
            <h3>Verify your Environment</h3>
            <ul>
                <li><strong>HMR Check:</strong> Change the text color in your CSS while the server is running. Does it update without a full page reload?</li>
                <li><strong>Strict Mode Check:</strong> Add a <code>console.log('Render')</code> inside your component. Open the browser console. Do you see it log <strong>twice</strong>? (This is React Strict Mode intentionally double-invoking to catch side effects).</li>
            </ul>
        </div>
    </main>

    <footer>
        <p>Module 1 Complete? Move to Module 2.</p>
    </footer>
</body>
</html>
