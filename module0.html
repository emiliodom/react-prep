<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 0: JS Prerequisites</title>
    <style>
        body { font-family: system-ui, -apple-system, sans-serif; line-height: 1.6; max-width: 800px; margin: 0 auto; padding: 20px; color: #333; }
        header { border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 20px; }
        nav { background: #f4f4f4; padding: 10px; border-radius: 5px; margin-bottom: 20px; }
        nav a { margin-right: 15px; text-decoration: none; color: #0066cc; font-weight: bold; }
        nav a:hover { text-decoration: underline; }
        .task { background: #e2e3e5; border-left: 5px solid #383d41; padding: 15px; margin: 20px 0; }
        .bug-hunt { background: #f8d7da; border-left: 5px solid #721c24; padding: 15px; margin: 20px 0; }
        code { background: #f4f4f4; padding: 2px 5px; border-radius: 3px; font-family: monospace; }
        footer { margin-top: 50px; border-top: 1px solid #ccc; padding-top: 20px; font-size: 0.9em; color: #666; text-align: center; }
    </style>
</head>
<body>
    <header>
        <h1>Module 0: JS Prerequisites</h1>
        <p>ES6+, Array Methods, and Asynchronous Logic.</p>
    </header>

    <nav>
        <a href="index.html">Home</a>
        <a href="module0.html">0. JS Prep</a>
        <a href="module1.html">1. Fundamentals</a>
        <a href="module2.html">2. Hooks & Lifecycle</a>
        <a href="module3.html">3. Routing & API</a>
        <a href="module4.html">4. State & Forms</a>
        <a href="module5.html">5. Advanced Patterns</a>
        <a href="module6.html">6. Global State</a>
        <a href="module7.html">7. Testing</a>
        <a href="module8.html">8. Pro Workflow</a>
        <a href="module9.html">9. Perf & Security</a>
        <a href="capstone.html">Capstone</a>
    </nav>

    <main>
        <h2>1. Deep Dive: The React Foundation</h2>
        <p>React is just JavaScript. If you struggle with React, 90% of the time you are actually struggling with JavaScript concepts like closures, `this`, or reference equality.</p>

        <h3>1.1 Reference vs. Value</h3>
        <p>Primitives (string, number, boolean) are passed by value. Objects and Arrays are passed by reference.
        <br><strong>Crucial for React:</strong> React compares props using "shallow comparison" (<code>===</code>). If you mutate an object (<code>obj.name = 'new'</code>), the reference is the same, so React <em>won't know it changed</em> and won't re-render.</p>

        <h3>1.2 Declarative vs. Imperative</h3>
        <p><strong>Imperative (Old):</strong> "Loop through the array. Create a new variable. If index is even, push to array."
        <br><strong>Declarative (React/Modern):</strong> "Map this array to that array."
        <br>We use <code>.map()</code>, <code>.filter()</code>, and <code>.reduce()</code> because they return <em>new</em> arrays (immutability) and describe <em>what</em> we want, not <em>how</em> to get it.</p>

        <h3>1.3 Industry Standard: Immutability</h3>
        <p>Senior devs never mutate data. They create copies.
        <br><strong>Bad:</strong> <code>user.name = "Alice"</code>
        <br><strong>Good:</strong> <code>const updatedUser = { ...user, name: "Alice" }</code>
        <br>This uses the <strong>Spread Operator</strong> to copy properties to a new object.</p>

        <details>
            <summary><strong>üìö Official Documentation References</strong></summary>
            <ul>
                <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment" target="_blank">Destructuring Assignment</a></li>
                <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map" target="_blank">Array.prototype.map()</a></li>
                <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax" target="_blank">Spread Syntax (...)</a></li>
            </ul>
        </details>

        <h2>2. The Build Challenge: "The Data Transformer"</h2>
        <div class="task">
            <h3>Level 1: The Basics</h3>
            <p>Create a pure JavaScript file (or run this in a console). Given an array of <code>orders</code>:</p>
            <pre><code>const orders = [
  { id: 1, status: "pending", amount: 50 },
  { id: 2, status: "shipped", amount: 100 },
  { id: 3, status: "cancelled", amount: 20 },
  { id: 4, status: "shipped", amount: 150 },
];</code></pre>
            <ol>
                <li>Filter the list to keep only "shipped" orders.</li>
                <li>Map over them to create an array of strings: "Order #ID: $AMOUNT".</li>
                <li>Reduce the list to calculate the total revenue of shipped orders.</li>
            </ol>

            <h3>Level 2: Senior Constraints (Functional Chain)</h3>
            <ul>
                <li><strong>Chaining:</strong> Perform the filter, map, and reduce operations in a single chain if possible, or at least without creating intermediate variables like <code>shippedOrders</code>.</li>
                <li><strong>Immutability:</strong> Ensure that the original <code>orders</code> array is completely unchanged after your operations.</li>
                <li><strong>Async:</strong> Wrap this logic in an <code>async</code> function that simulates fetching the data first (use <code>await new Promise(...)</code>).</li>
            </ul>

            <h3>Level 3: Nice to Haves (TypeScript)</h3>
            <ul>
                <li><strong>Generics:</strong> Write a reusable function <code>filterByStatus&lt;T&gt;(items: T[], status: string): T[]</code>.</li>
                <li><strong>Strict Typing:</strong> Define an interface <code>Order</code> and ensure your array is typed as <code>Order[]</code>.</li>
            </ul>
        </div>

        <h2>3. The Bug Hunt</h2>
        <div class="bug-hunt">
            <h3>üêõ Scenario: The Accidental Mutation</h3>
            <p><strong>The Setup:</strong></p>
            <pre><code>const user = { name: "John", address: { city: "NY" } };
const updatedUser = { ...user };
updatedUser.address.city = "LA";
console.log(user.address.city); // What does this print?</code></pre>
            <p><strong>The Bug:</strong> You expected <code>user.address.city</code> to stay "NY", but it changed to "LA".</p>
            <p><strong>The Task:</strong></p>
            <ol>
                <li>Explain <strong>Shallow Copy</strong> vs <strong>Deep Copy</strong>.</li>
                <li>Fix the code so that <code>user</code> is not affected (use nested spread or <code>structuredClone</code>).</li>
            </ol>
        </div>

        <h2>4. Test on your own</h2>
        <div class="task">
            <h3>Verify your JS Knowledge</h3>
            <ul>
                <li><strong>Console Check:</strong> Open your browser console. Type <code>[] == []</code>. It returns <code>false</code>. Why? (Reference equality).</li>
                <li><strong>Closure Check:</strong> Write a loop <code>for (var i=0; i<3; i++) { setTimeout(() => console.log(i), 100) }</code>. It prints "3, 3, 3". Change <code>var</code> to <code>let</code>. It prints "0, 1, 2". Explain why to yourself.</li>
            </ul>
        </div>
    </main>

    <footer>
        <p>Module 0 Complete? Move to Module 1.</p>
    </footer>
</body>
</html>
